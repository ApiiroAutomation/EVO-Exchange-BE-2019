<databaseChangeLog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet id="1.6.0" author="jack.petrov">
        <insert tableName="categories">
            <column name="name" value="Одежда"/>
        </insert>

        <insert tableName="categories">
            <column name="name" value="Обувь"/>
        </insert>

        <insert tableName="categories">
            <column name="name" value="Игрушки"/>
        </insert>

        <insert tableName="categories">
            <column name="name" value="Детская мебель"/>
        </insert>

        <insert tableName="categories">
            <column name="name" value="Транспорт для детей"/>
        </insert>

        <insert tableName="categories">
            <column name="name" value="Малыши до года"/>
        </insert>

        <insert tableName="categories">
            <column name="name" value="Книги"/>
        </insert>

        <insert tableName="categories">
            <column name="name" value="Другое"/>
        </insert>
    </changeSet>

    <changeSet id="1.6.1" author="jack.petrov">
        <addColumn schemaName="evo_exchange"
                   tableName="products">
            <column name="category_id" type="BIGINT"/>
        </addColumn>
    </changeSet>

    <changeSet id="1.6.2" author="jack.petrov">
        <addForeignKeyConstraint baseColumnNames="category_id"
                                 baseTableName="products"
                                 constraintName="fk_products_to_category_id"
                                 onDelete="CASCADE"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="id"
                                 referencedTableName="categories"/>
    </changeSet>

    <changeSet id="1.6.3" author="jack.petrov">
        <sqlFile dbms="mysql" path="../sql/delete-all-from-categories.sql" relativeToChangelogFile="true" />
    </changeSet>
</databaseChangeLog>